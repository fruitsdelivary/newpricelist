<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¯Ù„ÙŠÙØ±ÙŠ Ø§Ù„Ø®Ø¶Ø§Ø± ÙˆØ§Ù„ÙØ§ÙƒÙ‡Ø©..Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆÙ†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; background-color: #f7f9fb; }
        .static-row, .interactive-row { transition: background-color 0.2s; border-bottom: 1px solid #f0f0f0; }
        .static-row:hover, .interactive-row:hover { background-color: #f3f4f6; }
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ø®Ø§Ù†Ø© Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø·ÙˆØ± */
        .quantity-select { 
            height: 40px; 
            min-width: 145px; 
            text-align-last: center; 
            border: 2px solid #22c55e; 
            border-radius: 8px; 
            appearance: none; 
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2315803d' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e"); 
            background-repeat: no-repeat; 
            background-position: left 0.5rem center; 
            background-size: 1em; 
            padding-left: 1.5rem; 
            font-weight: bold;
            background-color: #fff;
            font-size: 0.85rem;
            cursor: pointer;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ ÙƒÙ„Ù…Ø© Ø¹Ø±Ø¶ ÙÙŠ Ø³Ø·Ø± ØªØ§Ù„ÙŠ Ø¨Ø­Ø¬Ù… ØµØºÙŠØ± Ø¬Ø¯Ø§Ù‹ */
        .offer-badge { 
            display: inline-block;
            background: #ef4444; 
            color: white; 
            padding: 1px 6px; 
            border-radius: 4px; 
            font-size: 10px; 
            font-weight: bold; 
            margin-top: 2px;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-2xl p-6 md:p-10 border-4 border-green-500/50">

        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-extrabold text-green-700 mb-4" id="main-title">ğŸ’°Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ÙŠÙˆÙ…ğŸ’°</h1>
            <div class="mb-6">
                <img src="https://i.ibb.co/3yfhVHXj/1764874410467.png" alt="Ø§Ù„Ø´Ø¹Ø§Ø±" class="mx-auto w-24 h-24 rounded-full border-4 border-green-300 shadow-xl object-cover">
                <p class="text-lg font-bold text-gray-600 mt-2">Ø®ÙØ¨Ø±Ø§Ø¡ Ø§Ù„Ø®Ø¶Ø§Ø± ÙˆØ§Ù„ÙØ§ÙƒÙ‡Ø©</p>
            </div>
        </header>
        
        <div id="price-list-view">
            <button onclick="toggleView('order-form-view')" class="w-full mb-8 flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-xl shadow-2xl transform hover:scale-105 text-xl transition">
                ğŸ›’ Ø§Ø¨Ø¯Ø£ Ø·Ù„Ø¨Ùƒ Ø§Ù„Ø¢Ù†! (Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø³Ø±ÙŠØ¹)
            </button>

            <div class="bg-red-100 text-red-800 font-extrabold p-3 rounded-xl shadow-lg border-4 border-red-500 mb-8 text-center text-xl animate-pulse">
                ğŸ”´ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØºÙŠÙŠØ± Ø®Ù„Ø§Ù„ Ø§Ù„ÙŠÙˆÙ… ğŸ”´
            </div>

            <div class="mb-8 p-4 bg-gray-50 rounded-xl shadow-inner text-center">
                <input type="text" id="search-input-static" onkeyup="filterItems('static')" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø®Ø¶Ø±ÙˆØ§Øª Ø£Ùˆ ÙÙˆØ§ÙƒÙ‡..." class="w-full p-3 border border-gray-300 rounded-lg text-right text-lg" dir="rtl">
            </div>

            <section class="border rounded-xl overflow-hidden shadow-lg mb-10">
                <h2 class="bg-green-600 text-white text-2xl font-bold p-4 text-center">ğŸ¥¬ğŸ¥¦ Ø®Ø¶Ø±ÙˆØ§Øª ğŸ¥¦ğŸ¥¬</h2>
                <div class="p-2"><table class="min-w-full"><tbody id="vegetables-tbody-static" class="bg-white divide-y"></tbody></table></div>
            </section>

            <section class="border rounded-xl overflow-hidden shadow-lg mb-10">
                <h2 class="bg-yellow-600 text-white text-2xl font-bold p-4 text-center">ğŸŒğŸ ÙÙˆØ§ÙƒÙ‡ ğŸ‰ğŸ‡</h2>
                <div class="p-2"><table class="min-w-full"><tbody id="fruits-tbody-static" class="bg-white divide-y"></tbody></table></div>
            </section>
        </div>

        <div id="order-form-view" style="display: none;">
            <button onclick="toggleView('price-list-view')" class="w-full mb-6 bg-gray-400 text-white font-bold py-3 px-6 rounded-xl transition text-lg text-center">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</button>
            <div class="mb-8 p-4 bg-gray-50 rounded-xl shadow-inner text-center">
                <input type="text" id="search-input-interactive" onkeyup="filterItems('interactive')" placeholder="Ø§Ø¨Ø­Ø« Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ…ÙŠØ©..." class="w-full p-3 border border-gray-300 rounded-lg text-right text-lg" dir="rtl">
            </div>
            <form id="order-form" onsubmit="event.preventDefault(); generateWhatsAppOrder();">
                <div class="mb-10 border rounded-xl overflow-hidden shadow-lg">
                    <h2 class="bg-green-600 text-white text-2xl font-bold p-4 text-center text-lg">ØªØ­Ø¯ÙŠØ¯ ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ø®Ø¶Ø±ÙˆØ§Øª</h2>
                    <table class="min-w-full"><tbody id="vegetables-tbody-interactive" class="bg-white divide-y"></tbody></table>
                </div>
                <div class="mb-10 border rounded-xl overflow-hidden shadow-lg">
                    <h2 class="bg-yellow-600 text-white text-2xl font-bold p-4 text-center text-lg">ØªØ­Ø¯ÙŠØ¯ ÙƒÙ…ÙŠØ§Øª Ø§Ù„ÙÙˆØ§ÙƒÙ‡</h2>
                    <table class="min-w-full"><tbody id="fruits-tbody-interactive" class="bg-white divide-y"></tbody></table>
                </div>
                <div class="mt-8">
                    <textarea id="notes" rows="4" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„ ÙˆØ±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ ÙˆØ£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ø®Ø±Ù‰ØŒØ£Ùˆ Ø£ØµÙ†Ø§Ù ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©..." class="w-full p-4 border border-gray-300 rounded-lg text-right shadow-inner" dir="rtl"></textarea>
                </div>
                <button type="submit" class="w-full mt-10 bg-green-700 text-white font-bold py-4 px-6 rounded-xl shadow-2xl transform hover:scale-105 text-xl transition">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
            </form>
        </div>

        <footer class="mt-12 pt-6 border-t-2 text-center">
            <div class="bg-yellow-50 p-4 rounded-xl border-2 border-yellow-200 mb-6 font-bold text-gray-700">
                ğŸ•’ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ Ù…Ù† 10 Øµ Ø¥Ù„Ù‰ 5 Ù… ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù…Ø§ Ø¹Ø¯Ø§ Ø§Ù„Ø¬Ù…Ø¹Ø©
            </div>
            <a href="http://wa.me/201032872750" target="_blank" class="flex items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-full transition shadow-md mb-6 mx-auto max-w-sm">
                Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
            </a>
            <a href="https://www.facebook.com/pg/3oroadtawfeer" target="_blank" class="flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full transition shadow-md mx-auto max-w-sm">
                Ø²ÙŠØ§Ø±Ø© ØµÙØ­Ø© Ø§Ù„ÙÙŠØ³Ø¨ÙˆÙƒ
            </a>
        </footer>
    </div>

    <script>
        // ÙƒØ§ÙØ© Ø§Ù„Ø£ØµÙ†Ø§Ù Ù…Ø£Ø®ÙˆØ°Ø© Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
        const productsData = [
            { name: "Ø¨ØµÙ„ Ø£Ø­Ù…Ø± 1", price: 17.5, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¨ØµÙ„ Ø£Ø­Ù…Ø± 2", price: 15.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¨ØµÙ„ Ø£Ø¨ÙŠØ¶", price: 20.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø«ÙˆÙ… Ø¨Ù„Ø¯ÙŠ", price: 80.0, oldPrice: 100, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¨Ø·Ø§Ø·Ø³ ØªØ­Ù…ÙŠØ±", price: 25.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¨Ø·Ø§Ø·Ø³ Ø·Ø¨Ø® Ø¬Ø¯ÙŠØ¯Ø©", price: 20.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¨Ø§Ø°Ù†Ø¬Ø§Ù† Ù…ÙƒØ¨Ø¨", price: 15.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø®ÙŠØ§Ø± 1", price: 30.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø®ÙŠØ§Ø± 2", price: 25.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "ÙƒÙˆØ³Ø©", price: 30.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¬Ø²Ø±", price: 20.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø·Ù…Ø§Ø·Ù… Ø¬Ø§Ù…Ø¯Ø© 1", price: 15.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø·Ù…Ø§Ø·Ù… Ø¬Ø§Ù…Ø¯Ø© 2", price: 12.5, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø·Ù…Ø§Ø·Ù… Ø·Ø¨Ø®", price: 8.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ù„ÙŠÙ…ÙˆÙ† 1", price: 60.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ù„ÙŠÙ…ÙˆÙ† 2", price: 50.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "ÙÙ„ÙÙ„ Ø£Ø®Ø¶Ø± Ø¨Ø§Ø±Ø¯", price: 25.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "ÙÙ„ÙÙ„ Ø£Ø®Ø¶Ø± Ø­Ø§Ø±", price: 25.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "ÙÙ„ÙÙ„ Ø£Ø­Ù…Ø± Ø¨Ø§Ø±Ø¯", price: 40.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¨Ø·Ø§Ø·Ø§", price: 17.5, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "ÙÙ„ÙÙ„ Ø£Ù„ÙˆØ§Ù†", price: 60.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø³Ø¨Ø§Ù†Ø® (Ø­Ø²Ù…Ø©)", price: 10.0, oldPrice: 12.5, unit: "Ø­Ø²Ù…Ø©", category: "vegetable" },
            { name: "Ø®Ø³ Ø¨Ù„Ø¯ÙŠ (Ø­Ø²Ù…Ø©)", price: 10.0, unit: "Ø­Ø²Ù…Ø©", category: "vegetable" },
            { name: "Ø´Ø¨Øª ÙˆÙƒØ³Ø¨Ø±Ø©", price: 10.0, unit: "Ø±Ø¨Ø·Ø©", category: "vegetable" },
            { name: "Ø¨Ù‚Ø¯ÙˆÙ†Ø³", price: 10.0, unit: "Ø±Ø¨Ø·Ø©", category: "vegetable" },
            { name: "ÙØ¬Ù„", price: 5.0, unit: "Ø±Ø¨Ø·Ø©", category: "vegetable" },
            { name: "Ø¬Ø±Ø¬ÙŠØ±", price: 5.0, unit: "Ø±Ø¨Ø·Ø©", category: "vegetable" },
            { name: "Ø³Ø±ÙŠØ³", price: 5.0, unit: "Ø±Ø¨Ø·Ø©", category: "vegetable" },
            { name: "Ø¨ØµÙ„ Ø£Ø®Ø¶Ø±", price: 10.0, unit: "Ø±Ø¨Ø·Ø©", category: "vegetable" },
            { name: "ÙƒØ±Ø§Øª Ù…ØµØ±ÙŠ", price: 5.0, unit: "Ø±Ø¨Ø·Ø©", category: "vegetable" },
            { name: "Ù†Ø¹Ù†Ø§Ø¹", price: 10.0, unit: "Ø±Ø¨Ø·Ø©", category: "vegetable" },
            { name: "Ø²Ù†Ø¬Ø¨ÙŠÙ„ ÙØ±ÙŠØ´", price: 280.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ù‚Ù„Ù‚Ø§Ø³", price: 25.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "ÙˆØ±Ù‚ Ø³Ù„Ù‚", price: 40.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¨Ø³Ù„Ø© 1", price: 30.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¨Ø³Ù„Ø© 2", price: 25.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¨Ø§Ø°Ù†Ø¬Ø§Ù† Ø­Ø´Ùˆ", price: 20.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø¨Ù†Ø¬Ø±", price: 30.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø®Ø³ ÙƒØ§Ø¨ÙˆØªØ´Ø§", price: 25.0, unit: "Ø­Ø¨Ø©", category: "vegetable" },
            { name: "Ù…Ø´Ø±ÙˆÙ… ÙØ±ÙŠØ´", price: 50.0, oldPrice: 60, unit: "Ø·Ø¨Ù‚", category: "vegetable" },
            { name: "ÙØ§ØµÙˆÙ„ÙŠØ§ Ø®Ø¶Ø±Ø§Ø¡", price: 25.0, unit: "ÙƒØ¬Ù…", category: "vegetable" },
            { name: "Ø«ÙˆÙ… ØµÙŠÙ†ÙŠ (Ù¢Ù Ù Ø¬Ù…)", price: 35.0, unit: "Ø­Ø¨Ø©", category: "vegetable" },
            { name: "ÙƒØ±Ù†Ø¨ Ø£Ø­Ù…Ø± (Ø³Ù„Ø·Ø©)", price: 30.0, unit: "Ø­Ø¨Ø©", category: "vegetable" },
            { name: "ÙƒØ±Ù†Ø¨ Ø£Ø¨ÙŠØ¶ (Ø³Ù„Ø·Ø©)", price: 40.0, unit: "Ø­Ø¨Ø©", category: "vegetable" },
            { name: "Ø°Ø±Ø© Ø£ØµÙØ± (Ø·Ø¨Ù‚ 3 Ø­Ø¨Ø©)", price: 60.0, unit: "Ø·Ø¨Ù‚", category: "vegetable" },
            { name: "Ø´ÙŠÙƒØ§Ø±Ø© Ø£Ø±Ø² Ø±ÙˆÙŠØ²Ù‚ 10Ùƒ", price: 290.0, unit: "Ø´ÙŠÙƒØ§Ø±Ø©", category: "vegetable" },
            // Ø§Ù„ÙÙˆØ§ÙƒÙ‡
            { name: "Ù…ÙˆØ² 1", price: 40.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ù…ÙˆØ² 2", price: 35.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ØªÙØ§Ø­ Ø£Ø­Ù…Ø± Ù…Ø³ØªÙˆØ±Ø¯", price: 80.0, oldPrice: 90, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ØªÙØ§Ø­ Ø£ØµÙØ±", price: 100.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ØªÙØ§Ø­ Ø³ÙƒØ±ÙŠ", price: 100.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ØªÙØ§Ø­ Ø£Ø­Ù…Ø± Ø³ÙˆØ±ÙŠ", price: 120.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ØªÙØ§Ø­ Ø£ØµÙØ± Ø³ÙˆØ±ÙŠ", price: 100.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ÙØ±Ø§ÙˆÙ„Ø©", price: 40.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ø¨Ø±Ù‚ÙˆÙ‚", price: 130.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ÙƒÙŠÙˆÙŠ ÙˆØ³Ø·", price: 130.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ø¨Ø±ØªÙ‚Ø§Ù„ Ø¨ØµØ±Ù‡ 1", price: 30.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ø¨Ø±ØªÙ‚Ø§Ù„ Ø¨ØµØ±Ù‡ 2", price: 25.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ø¨Ø±ØªÙ‚Ø§Ù„ Ø³ÙƒØ±ÙŠ", price: 25.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ø­Ø±Ù†ÙƒØ´", price: 150.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ø¬ÙˆØ§ÙØ©", price: 35.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ø±Ù…Ø§Ù†", price: 60.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ù…Ù†Ø¯ÙˆÙ„ÙŠÙ†Ø§", price: 15.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ÙŠÙˆØ³ÙÙŠ Ø¨Ù„Ø¯ÙŠ 1", price: 30.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ÙŠÙˆØ³ÙÙŠ Ø¨Ù„Ø¯ÙŠ 2", price: 25.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ù…Ø§Ù†Ø¬Ùˆ ÙƒÙŠØª", price: 80.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "Ù‚Ø´Ø·Ø© Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø§Ø²Ù‚", price: 170.0, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ÙƒÙ†ØªØ§Ù„ÙˆØ¨", price: 35.0, oldPrice: 40, unit: "ÙƒØ¬Ù…", category: "fruit" },
            { name: "ØªÙ…Ø± Ø§Ù„Ù‚ØµÙŠÙ… (Ù¡Ùƒ)", price: 130.0, unit: "Ø¹Ù„Ø¨Ø©", category: "fruit" },
            { name: "Ø£ÙÙˆÙƒØ§Ø¯Ùˆ Ù…Ø³ØªÙˆØ±Ø¯", price: 250.0, oldPrice: 270, unit: "ÙƒØ¬Ù…", category: "fruit" }
        ];

        const WHATSAPP_NUMBER = '201032872750';

        function generatePriceList() {
            let sVeg = '', sFruit = '', iVeg = '', iFruit = '';
            productsData.forEach(p => {
                const badge = p.oldPrice ? `<br><span class="offer-badge">Ø¹Ø±Ø¶ ğŸ”¥</span>` : '';
                const priceHTML = p.oldPrice ? `<span class="text-gray-400 line-through text-[10px] ml-1">${p.oldPrice}</span><span class="text-red-600 font-bold">${p.price} Ø¬</span>` : `<span>${p.price} Ø¬</span>`;
                
                const sRow = `<tr class="static-row" data-name="${p.name}"><td class="px-4 py-3 text-lg font-medium">${p.name}${badge}</td><td class="px-4 py-3 text-xl font-bold text-right">${priceHTML}</td></tr>`;
                const iRow = `<tr class="interactive-row" data-name="${p.name}" data-unit="${p.unit}">
                    <td class="px-4 py-3 text-lg font-medium">${p.name}${badge}</td>
                    <td class="px-4 py-3 text-center font-bold text-green-700 text-sm align-middle">${priceHTML}</td>
                    <td class="px-4 py-3 align-middle w-[150px]"><select class="quantity-select w-full" data-unit="${p.unit}"></select></td>
                </tr>`;
                
                if (p.category === 'vegetable') { sVeg += sRow; iVeg += iRow; } else { sFruit += sRow; iFruit += iRow; }
            });
            document.getElementById('vegetables-tbody-static').innerHTML = sVeg;
            document.getElementById('fruits-tbody-static').innerHTML = sFruit;
            document.getElementById('vegetables-tbody-interactive').innerHTML = iVeg;
            document.getElementById('fruits-tbody-interactive').innerHTML = iFruit;
        }

        function formatWeight(val) {
            let kilo = Math.floor(val);
            let fraction = val - kilo;
            let fText = "";
            if (fraction === 0.125) fText = "Ùˆ1/8";
            else if (fraction === 0.25) fText = "Ùˆ1/4";
            else if (fraction === 0.5) fText = "Ùˆ1/2";
            else if (fraction === 0.75) fText = "Ùˆ3/4";
            if (kilo === 0) return fText.replace("Ùˆ", "") + " ÙƒÙŠÙ„Ùˆ";
            return kilo + " ÙƒÙŠÙ„Ùˆ" + (fText ? " " + fText : "");
        }

        function generateWeightOptions(unit) {
            let opts = '<option value="0" selected>-- Ø·Ù„Ø¨ --</option>';
            if (unit === 'ÙƒØ¬Ù…') {
                for (let i = 0.125; i <= 15; i += 0.125) {
                    let fr = i - Math.floor(i);
                    if (i < 1 || fr === 0 || fr === 0.125 || fr === 0.25 || fr === 0.5 || fr === 0.75) {
                        opts += `<option value="${i}">${formatWeight(i)}</option>`;
                    }
                }
            } else {
                for (let i = 1; i <= 15; i++) opts += `<option value="${i}">${i} ${unit}</option>`;
            }
            return opts;
        }

        function toggleView(v) {
            document.getElementById('price-list-view').style.display = v === 'order-form-view' ? 'none' : 'block';
            document.getElementById('order-form-view').style.display = v === 'order-form-view' ? 'block' : 'none';
            document.getElementById('main-title').textContent = v === 'order-form-view' ? 'ğŸ›’ Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø³Ø±ÙŠØ¹' : 'ğŸ’°Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ÙŠÙˆÙ…ğŸ’°';
            window.scrollTo({top:0, behavior:'smooth'});
        }

        function generateWhatsAppOrder() {
            let vegStr = '', fruitStr = '', count = 0;
            document.querySelectorAll('.interactive-row').forEach(row => {
                const sel = row.querySelector('.quantity-select');
                if (parseFloat(sel.value) > 0) { 
                    count++; 
                    const line = `- ${sel.options[sel.selectedIndex].text} ${row.getAttribute('data-name')}\n`; 
                    if (row.closest('table').id.includes('vegetables')) vegStr += line; else fruitStr += line; 
                }
            });
            if (count === 0) return alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØµÙ†Ù ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
            let msg = `ğŸ“ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ø¹Ø¨Ø± Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©:\n------------------\n${vegStr ? 'ğŸ¥¬ *Ø®Ø¶Ø±ÙˆØ§Øª:*\n' + vegStr : ''}${fruitStr ? '\nğŸ *ÙÙˆØ§ÙƒÙ‡:*\n' + fruitStr : ''}\n------------------\nğŸ“Œ *Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:*\n${document.getElementById('notes').value || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯'}`;
            window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`, '_blank');
        }

        function filterItems(type) {
            const val = document.getElementById(type === 'static' ? 'search-input-static' : 'search-input-interactive').value.toLowerCase();
            document.querySelectorAll(type === 'static' ? '.static-row' : '.interactive-row').forEach(row => {
                const name = row.getAttribute('data-name').toLowerCase();
                row.style.display = name.includes(val) ? 'table-row' : 'none';
            });
        }

        document.addEventListener('DOMContentLoaded', () => { 
            generatePriceList(); 
            document.querySelectorAll('.quantity-select').forEach(s => s.innerHTML = generateWeightOptions(s.getAttribute('data-unit')));
        });
    </script>
</body>
</html>
